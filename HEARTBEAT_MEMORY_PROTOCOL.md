# Heartbeat System - Enhanced with Memory Maintenance

## Automated Checks (During Heartbeat Polling)

### Memory System Health Check
- Verify MEMORY.md exists and is current
- Check daily memory file creation patterns
- Validate heartbeat-state.json integrity
- Ensure memory directory structure

### Weekly Memory Consolidation (Every Sunday)
- Run memory consolidation automatically
- Extract new intelligence from daily logs
- Update long-term memory with discoveries
- Clean outdated information

### Monthly Memory Optimization
- Full memory system audit
- Project status updates
- Preference pattern analysis
- Performance optimization

## Heartbeat Tasks

### Daily (Every Hour 9-18)
- Check for new daily memory files
- Validate memory system health
- Quick preference pattern detection

### Every 4 Hours
- Run memory health diagnostic
- Update continuity tracking
- Check for memory file corruption

### Weekly (Sunday Midnight)
- Full memory consolidation
- Intelligence extraction and curation
- Long-term memory updates
- Backup verification

### Monthly (1st of Month)
- Memory system review
- Project context update
- Preference refinement
- System optimization

## Integration Commands

### Memory Consolidation
```bash
python3 henry_memory_manager.py consolidate 7
```

### Health Check
```bash
python3 henry_memory_manager.py insights
```

### Activity Analysis
```bash
python3 henry_memory_manager.py analyze 14
```

## Memory Maintenance Protocols

### File Integrity
- All memory files must be readable
- JSON files must validate
- Daily logs follow consistent format
- Backup state tracked

### Continuity Assurance
- Session restart detection
- Context bridge mechanisms
- Preference preservation
- Project state maintenance

### Privacy Protection
- MEMORY.md never loaded in shared contexts
- Personal information restricted to main sessions
- External communication privacy maintained
- Security protocols enforced

## Emergency Procedures

### Memory File Corruption
1. Restore from git history
2. Rebuild from daily logs
3. Reinitialize core files
4. Notify administrator

### Session Continuity Loss
1. Check MEMORY.md availability
2. Restore from backup state
3. Rebuild context from recent logs
4. Notify user of reset

### Preference System Failure
1. Reset to default preferences
2. Extract from recent conversations
3. Validate with user
4. Update learning algorithms